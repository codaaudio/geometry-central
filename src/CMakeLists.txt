cmake_minimum_required(VERSION 3.28)

target_sources(geometry-central PRIVATE 

    surface/surface_mesh.cpp
    surface/manifold_surface_mesh.cpp
    surface/halfedge_factories.cpp  
    surface/surface_mesh_factories.cpp
    surface/meshio.cpp
    surface/simple_polygon_mesh.cpp
    surface/rich_surface_mesh_data.cpp

    surface/base_geometry_interface.cpp
    surface/boundary_first_flattening.cpp
    surface/intrinsic_geometry_interface.cpp
    surface/extrinsic_geometry_interface.cpp
    surface/exact_geodesic_helpers.cpp
    surface/exact_geodesics.cpp
    surface/embed_convex.cpp
    surface/embedded_geometry_interface.cpp
    surface/edge_length_geometry.cpp
    surface/vertex_position_geometry.cpp
    surface/marching_triangles.cpp
    surface/mutation_manager.cpp
    surface/mesh_graph_algorithms.cpp
    surface/direction_fields.cpp
    surface/heat_method_distance.cpp
    surface/vector_heat_method.cpp
    surface/signed_heat_method.cpp
    surface/polygon_mesh_helpers.cpp
    surface/polygon_mesh_heat_solver.cpp
    surface/geodesic_centroidal_voronoi_tessellation.cpp
    surface/trace_geodesic.cpp
    surface/normal_coordinates.cpp
    surface/surface_centers.cpp
    surface/simple_idt.cpp
    surface/intrinsic_triangulation.cpp
    surface/signpost_intrinsic_triangulation.cpp
    surface/integer_coordinates_intrinsic_triangulation.cpp
    surface/common_subdivision.cpp
    surface/surface_point.cpp
    surface/barycentric_vector.cpp
    surface/fast_marching_method.cpp
    surface/intersection.cpp
    surface/uniformize.cpp
    surface/parameterize.cpp
    surface/remeshing.cpp
    surface/surgery.cpp
    surface/simple_idt.cpp
    surface/exact_polyhedral_geodesics.cpp
    surface/intrinsic_mollification.cpp
    surface/tufted_laplacian.cpp
    surface/flip_geodesics.cpp
    surface/stripe_patterns.cpp
    surface/transfer_functions.cpp
    surface/quadric_error_simplification.cpp
    surface/subdivide.cpp
    surface/poisson_disk_sampler.cpp
    #surface/detect_symmetry.cpp
    #surface/mesh_ray_tracer.cpp
    
    pointcloud/point_cloud.cpp
    pointcloud/neighborhoods.cpp
    pointcloud/point_position_geometry.cpp
    pointcloud/point_position_normal_geometry.cpp
    pointcloud/point_position_frame_geometry.cpp
    pointcloud/point_cloud_io.cpp
    pointcloud/sample_cloud.cpp
    pointcloud/local_triangulation.cpp
    pointcloud/point_cloud_heat_solver.cpp

    numerical/linear_algebra_utilities.cpp
    numerical/suitesparse_utilities.cpp
    numerical/linear_solvers.cpp
    numerical/eigenproblem_solvers.cpp
    numerical/qr_solvers.cpp
    numerical/square_solvers.cpp
    numerical/positive_definite_solvers.cpp

    utilities/utilities.cpp
    utilities/quaternion.cpp
    utilities/disjoint_sets.cpp
    utilities/knn.cpp
    utilities/elementary_geometry.cpp
    utilities/tri_tri_intersect.cpp
)

SET(GC_INCLUDE_ROOT "${CMAKE_CURRENT_SOURCE_DIR}/.../include/geometrycentral/")
# TYPE HEADERS will automatically include (https://cmake.org/cmake/help/latest/command/target_sources.html#file-sets)
target_sources(
    geometry-central 
    PUBLIC
        FILE_SET 
            # target_sources Non-default file set name must contain only letters,
            # numbers, and underscores, and must not start with a capital letter or
            # underscore -> no dash allowed
            geometry_central_public_headers
        TYPE
            HEADERS
        BASE_DIRS
            ../include
        FILES
            ../include/geometrycentral/numerical/linear_algebra_types.h
            ../include/geometrycentral/numerical/linear_algebra_utilities.h
            ../include/geometrycentral/numerical/linear_algebra_utilities.ipp
            ../include/geometrycentral/numerical/linear_solvers.h
            ../include/geometrycentral/numerical/suitesparse_utilities.h

            ../include/geometrycentral/pointcloud/local_triangulation.h
            ../include/geometrycentral/pointcloud/neighborhoods.h
            ../include/geometrycentral/pointcloud/point_cloud.h
            ../include/geometrycentral/pointcloud/point_cloud.ipp
            ../include/geometrycentral/pointcloud/point_cloud_element_types.h
            ../include/geometrycentral/pointcloud/point_cloud_element_types.ipp
            ../include/geometrycentral/pointcloud/point_cloud_heat_solver.h
            ../include/geometrycentral/pointcloud/point_cloud_io.h
            ../include/geometrycentral/pointcloud/point_cloud_logic_templates.ipp
            ../include/geometrycentral/pointcloud/point_position_frame_geometry.h
            ../include/geometrycentral/pointcloud/point_position_geometry.h
            ../include/geometrycentral/pointcloud/point_position_normal_geometry.h
            ../include/geometrycentral/pointcloud/sample_cloud.h

            ../include/geometrycentral/surface/barycentric_coordinate_helpers.h
            ../include/geometrycentral/surface/barycentric_coordinate_helpers.ipp
            ../include/geometrycentral/surface/barycentric_vector.h
            ../include/geometrycentral/surface/barycentric_vector.ipp
            ../include/geometrycentral/surface/base_geometry_interface.h
            ../include/geometrycentral/surface/boundary_first_flattening.h
            ../include/geometrycentral/surface/common_subdivision.h
            ../include/geometrycentral/surface/common_subdivision.ipp
            ../include/geometrycentral/surface/detect_symmetry.h
            ../include/geometrycentral/surface/direction_fields.h
            ../include/geometrycentral/surface/edge_length_geometry.h
            ../include/geometrycentral/surface/edge_length_geometry.ipp
            ../include/geometrycentral/surface/embed_convex.h
            ../include/geometrycentral/surface/embedded_geometry_interface.h
            ../include/geometrycentral/surface/exact_geodesic_helpers.h
            ../include/geometrycentral/surface/exact_geodesic_helpers.ipp
            ../include/geometrycentral/surface/exact_geodesics.h
            ../include/geometrycentral/surface/exact_polyhedral_geodesics.h
            ../include/geometrycentral/surface/extrinsic_geometry_interface.h
            ../include/geometrycentral/surface/fast_marching_method.h
            ../include/geometrycentral/surface/flip_geodesics.h
            ../include/geometrycentral/surface/geodesic_centroidal_voronoi_tessellation.h
            ../include/geometrycentral/surface/geometry.h
            ../include/geometrycentral/surface/halfedge_element_types.h
            ../include/geometrycentral/surface/halfedge_element_types.ipp
            ../include/geometrycentral/surface/halfedge_factories.h
            ../include/geometrycentral/surface/halfedge_logic_templates.ipp
            ../include/geometrycentral/surface/halfedge_mesh.h
            ../include/geometrycentral/surface/heat_method_distance.h
            ../include/geometrycentral/surface/integer_coordinates_intrinsic_triangulation.h
            ../include/geometrycentral/surface/integer_coordinates_intrinsic_triangulation.ipp
            ../include/geometrycentral/surface/intersection.h
            ../include/geometrycentral/surface/intrinsic_geometry_interface.h
            ../include/geometrycentral/surface/intrinsic_mollification.h
            ../include/geometrycentral/surface/intrinsic_triangulation.h
            ../include/geometrycentral/surface/intrinsic_triangulation.ipp
            ../include/geometrycentral/surface/manifold_surface_mesh.h
            ../include/geometrycentral/surface/manifold_surface_mesh.ipp
            ../include/geometrycentral/surface/marching_triangles.h
            ../include/geometrycentral/surface/mesh_graph_algorithms.h
            ../include/geometrycentral/surface/mesh_ray_tracer.h
            ../include/geometrycentral/surface/meshio.h
            ../include/geometrycentral/surface/mutation_manager.h
            ../include/geometrycentral/surface/mutation_manager.ipp
            ../include/geometrycentral/surface/normal_coordinates.h
            ../include/geometrycentral/surface/parameterize.h
            ../include/geometrycentral/surface/poisson_disk_sampler.h
            ../include/geometrycentral/surface/polygon_mesh_heat_solver.h
            ../include/geometrycentral/surface/polygon_mesh_helpers.h
            ../include/geometrycentral/surface/polygon_soup_mesh.h
            ../include/geometrycentral/surface/quadric_error_simplification.h
            ../include/geometrycentral/surface/remeshing.h
            ../include/geometrycentral/surface/rich_surface_mesh_data.h
            ../include/geometrycentral/surface/rich_surface_mesh_data.ipp
            ../include/geometrycentral/surface/signed_heat_method.h
            ../include/geometrycentral/surface/signpost_intrinsic_triangulation.h
            ../include/geometrycentral/surface/signpost_intrinsic_triangulation.ipp
            ../include/geometrycentral/surface/simple_idt.h
            ../include/geometrycentral/surface/simple_polygon_mesh.h
            ../include/geometrycentral/surface/stripe_patterns.h
            ../include/geometrycentral/surface/subdivide.h
            ../include/geometrycentral/surface/surface_centers.h
            ../include/geometrycentral/surface/surface_mesh.h
            ../include/geometrycentral/surface/surface_mesh.ipp
            ../include/geometrycentral/surface/surface_mesh_factories.h
            ../include/geometrycentral/surface/surface_mesh_factories.ipp
            ../include/geometrycentral/surface/surface_point.h
            ../include/geometrycentral/surface/surface_point.ipp
            ../include/geometrycentral/surface/surgery.h
            ../include/geometrycentral/surface/trace_geodesic.h
            ../include/geometrycentral/surface/transfer_functions.h
            ../include/geometrycentral/surface/tufted_laplacian.h
            ../include/geometrycentral/surface/uniformize.h
            ../include/geometrycentral/surface/vector_heat_method.h
            ../include/geometrycentral/surface/vertex_position_geometry.h
            ../include/geometrycentral/surface/vertex_position_geometry.ipp

            ../include/geometrycentral/utilities/combining_hash_functions.h
            ../include/geometrycentral/utilities/curve.h
            ../include/geometrycentral/utilities/curve.ipp
            ../include/geometrycentral/utilities/dependent_quantity.h
            ../include/geometrycentral/utilities/dependent_quantity.ipp
            ../include/geometrycentral/utilities/disjoint_sets.h
            ../include/geometrycentral/utilities/eigen_interop_helpers.h
            ../include/geometrycentral/utilities/element.h
            ../include/geometrycentral/utilities/element.ipp
            ../include/geometrycentral/utilities/element_iterators.h
            ../include/geometrycentral/utilities/element_iterators.ipp
            ../include/geometrycentral/utilities/elementary_geometry.h
            ../include/geometrycentral/utilities/elementary_geometry.ipp
            ../include/geometrycentral/utilities/knn.h
            ../include/geometrycentral/utilities/mesh_data.h
            ../include/geometrycentral/utilities/mesh_data.ipp
            ../include/geometrycentral/utilities/quaternion.h
            ../include/geometrycentral/utilities/timing.h
            ../include/geometrycentral/utilities/utilities.h
            ../include/geometrycentral/utilities/vector2.h
            ../include/geometrycentral/utilities/vector2.ipp
            ../include/geometrycentral/utilities/vector3.h
            ../include/geometrycentral/utilities/vector3.ipp
)
